var despliegueAlastria='N' //'S' se despliegue en alastria, 'N' se despliegue en local
var nodoConexion = "http://localhost:8545"
//"http://138.4.143.82:8545" Nodo de alatris
//"http://localhost:8545" Nodo local
var contrasenaCuentasAlastria = "Alumnos_2018_Q4_IKx5srvT"

function desbloqueaCuentas(){
	var web3 = new Web3(new Web3.providers.HttpProvider(nodoConexion));
	
	web3.eth.personal.unlockAccount("0x994319e1b1de09aac4aa5b225a7d5cade79d04ed", contrasenaCuentasAlastria); //Propietario del contrato Drones
	web3.eth.personal.unlockAccount("0x66c5a820d0e743fc7030f02aa873875c84a88f3f", contrasenaCuentasAlastria); //Propietario del contrato Parcelas
	web3.eth.personal.unlockAccount("0x34322a678b16ce26fc0e2bdde1e3c1b666a34a66", contrasenaCuentasAlastria); //Propietario del contrato Coin
	web3.eth.personal.unlockAccount("0xfc3b00c03b74ee1d94fa10e21aef4e6e9710e8a8", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0xf76c62480a8a6a83451eeef40d331ed179da7f89", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0x7b1b6d29cb425887d1bc4849d0708091bcbaf16b", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0x12e3bb9f253bd233e03bd696b1c558a056179b87", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0x59bedaa81edfd70b8e370a96cf29ee327e84e551", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0x9a63729158a93f502935bc322af78e4f25a5cc02", contrasenaCuentasAlastria); //Dueño de Parcela
	web3.eth.personal.unlockAccount("0xab2c680816421e56ba3274a37c3df455fba32725", contrasenaCuentasAlastria); //Dueño de Parcela
}


var cuentaPropietariaDron = "0xc68c1df23f51cbbce29fee0e30e8a10851c80e5e"
var direccionContratoDron = "0xa8dc873af78f9df7bcaf210bab73552da786d830"
var direccionContratoParcela = "0x81b884fdacfc7b88cb70c6e11294d7062cd44251"
var direccionContratoCoin = "0x9be6a9fea89220c6e2516df1b37936951bcbb96e"

var ABIParcela = [{"constant": false,"inputs": [{"name": "spender","type": "address"},{"name": "value","type": "uint256"}],"name": "approve","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "totalSupply","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "from","type": "address"},{"name": "to","type": "address"},{"name": "value","type": "uint256"}],"name": "transferFrom","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "pesticidaDron","type": "string"},{"name": "pesticidaParcela","type": "string"}],"name": "validaPesticida","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_altMin","type": "uint256"},{"name": "_altMax","type": "uint256"},{"name": "_longVuelo","type": "uint256"},{"name": "_idParcelaOrigen","type": "uint256"},{"name": "_idParcelaDestino","type": "uint256"},{"name": "_pesticida","type": "string"}],"name": "validateDron","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "_totalSupply","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "","type": "uint256"}],"name": "listParcelas","outputs": [{"name": "idParcela","type": "uint256"},{"name": "altMin","type": "uint256"},{"name": "altMax","type": "uint256"},{"name": "longParcela","type": "uint256"},{"name": "owner","type": "address"},{"name": "pesticida","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "who","type": "address"}],"name": "balanceOf","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "to","type": "address"},{"name": "value","type": "uint256"}],"name": "transfer","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_altMin","type": "uint256"},{"name": "_altMax","type": "uint256"},{"name": "_longParcela","type": "uint256"},{"name": "_pesticida","type": "string"}],"name": "createParcela","outputs": [{"name": "id","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "ok","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "owner","type": "address"},{"name": "spender","type": "address"}],"name": "allowance","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "_idParcela","type": "uint256"}],"name": "getParcela","outputs": [{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "_countParcela","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"inputs": [{"name": "totalSupply","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "constructor"},{"anonymous": false,"inputs": [{"indexed": true,"name": "idParcela","type": "uint256"},{"indexed": true,"name": "sender","type": "address"}],"name": "ParcelaCreada","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "from","type": "address"},{"indexed": true,"name": "to","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Transfer","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "owner","type": "address"},{"indexed": true,"name": "spender","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Approval","type": "event"}]

var ABIDron = [{"constant": false,"inputs": [{"name": "spender","type": "address"},{"name": "value","type": "uint256"}],"name": "approve","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "totalSupply","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "_idDron","type": "uint256"}],"name": "getDroneRequested","outputs": [{"name": "","type": "uint256"},{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "from","type": "address"},{"name": "to","type": "address"},{"name": "value","type": "uint256"}],"name": "transferFrom","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"name": "","type": "uint256"}],"name": "listDrones","outputs": [{"name": "idDron","type": "uint256"},{"name": "altMin","type": "uint256"},{"name": "altMax","type": "uint256"},{"name": "longVuelo","type": "uint256"},{"name": "idParcela","type": "uint256"},{"name": "price","type": "uint256"},{"name": "available","type": "uint256"},{"name": "owner","type": "address"},{"name": "pesticida","type": "string"},{"name": "idParcelaDestino","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "_totalSupply","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "","type": "uint256"}],"name": "listDronesRequested","outputs": [{"name": "idDron","type": "uint256"},{"name": "altMin","type": "uint256"},{"name": "altMax","type": "uint256"},{"name": "longVuelo","type": "uint256"},{"name": "idParcela","type": "uint256"},{"name": "price","type": "uint256"},{"name": "available","type": "uint256"},{"name": "owner","type": "address"},{"name": "pesticida","type": "string"},{"name": "idParcelaDestino","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "who","type": "address"}],"name": "balanceOf","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_altMin","type": "uint256"},{"name": "_altMax","type": "uint256"},{"name": "_longVuelo","type": "uint256"},{"name": "_idParcela","type": "uint256"},{"name": "_price","type": "uint256"},{"name": "_pesticida","type": "string"}],"name": "createDron","outputs": [{"name": "id","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_owner","type": "address"},{"name": "_idDron","type": "uint256"}],"name": "releaseDron","outputs": [{"name": "id","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"name": "addr","type": "address"},{"name": "_idDron","type": "uint256"},{"name": "_altMin","type": "uint256"},{"name": "_altMax","type": "uint256"},{"name": "_longVuelo","type": "uint256"},{"name": "_idParcelaOrigen","type": "uint256"},{"name": "_idParcelaDestino","type": "uint256"},{"name": "_pesticida","type": "string"}],"name": "solicitaDron","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "to","type": "address"},{"name": "value","type": "uint256"}],"name": "transfer","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_address","type": "address"}],"name": "setCoinPlus","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "_countDrones","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [],"name": "getTotalSupply","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "ok","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "_idDron","type": "uint256"}],"name": "getDrone","outputs": [{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "uint256"},{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "owner","type": "address"},{"name": "spender","type": "address"}],"name": "allowance","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "addr","type": "address"},{"name": "p1","type": "uint256"}],"name": "requestDron","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_owner","type": "address"},{"name": "_idDron","type": "uint256"},{"name": "_idParcelaDestino","type": "uint256"}],"name": "allocateDron","outputs": [{"name": "id","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"inputs": [{"name": "totalSupply","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "constructor"},{"anonymous": false,"inputs": [{"indexed": false,"name": "idDron","type": "uint256"},{"indexed": false,"name": "isValidate","type": "bool"}],"name": "DronRequested","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "from","type": "address"},{"indexed": false,"name": "idDron","type": "uint256"}],"name": "DronCreated","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "from","type": "address"},{"indexed": true,"name": "to","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Transfer","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "owner","type": "address"},{"indexed": true,"name": "spender","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Approval","type": "event"}]

var ABICoin = [{"constant": true,"inputs": [],"name": "name","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_spender","type": "address"},{"name": "_value","type": "uint256"}],"name": "approve","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "totalSupply","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_from","type": "address"},{"name": "_to","type": "address"},{"name": "_value","type": "uint256"}],"name": "transferFrom","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"name": "","type": "address"}],"name": "balances","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "decimals","outputs": [{"name": "","type": "uint8"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_spender","type": "address"},{"name": "_subtractedValue","type": "uint256"}],"name": "decreaseApproval","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"name": "_owner","type": "address"}],"name": "balanceOf","outputs": [{"name": "balance","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "symbol","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_to","type": "address"},{"name": "_value","type": "uint256"}],"name": "transfer","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"name": "_spender","type": "address"},{"name": "_addedValue","type": "uint256"}],"name": "increaseApproval","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"name": "_owner","type": "address"},{"name": "_spender","type": "address"}],"name": "allowance","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"inputs": [{"name": "name","type": "string"},{"name": "symbol","type": "string"},{"name": "decimals","type": "uint8"},{"name": "totalSupply","type": "uint256"}],"payable": true,"stateMutability": "payable","type": "constructor"},{"anonymous": false,"inputs": [{"indexed": true,"name": "from","type": "address"},{"indexed": true,"name": "to","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Transfer","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"name": "owner","type": "address"},{"indexed": true,"name": "spender","type": "address"},{"indexed": false,"name": "value","type": "uint256"}],"name": "Approval","type": "event"}]